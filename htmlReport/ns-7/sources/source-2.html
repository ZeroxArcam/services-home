


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > CategoryServiceImplementationTest</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.pragma.hogar360.serviceshome.application.services.implementation</a>
</div>

<h1>Coverage Summary for Class: CategoryServiceImplementationTest (com.pragma.hogar360.serviceshome.application.services.implementation)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">CategoryServiceImplementationTest</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/21)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package com.pragma.hogar360.serviceshome.application.services.implementation;
&nbsp;import com.pragma.hogar360.serviceshome.application.dto.request.SaveCategoryRequest;
&nbsp;import com.pragma.hogar360.serviceshome.application.dto.response.CategoryResponse;
&nbsp;import com.pragma.hogar360.serviceshome.application.dto.response.PagedCategoryResponse;
&nbsp;import com.pragma.hogar360.serviceshome.application.dto.response.SaveCategoryResponse;
&nbsp;import com.pragma.hogar360.serviceshome.application.mappers.CategoryDtoMapper;
&nbsp;import com.pragma.hogar360.serviceshome.commons.configurations.utils.Constants;
&nbsp;import com.pragma.hogar360.serviceshome.domain.model.CategoryModel;
&nbsp;import com.pragma.hogar360.serviceshome.domain.ports.in.CategoryServicePort;
&nbsp;import com.pragma.hogar360.serviceshome.domain.utils.constants.Pagination;
&nbsp;import org.junit.jupiter.api.BeforeEach;
&nbsp;import org.junit.jupiter.api.Test;
&nbsp;import org.junit.jupiter.api.extension.ExtendWith;
&nbsp;import org.mockito.InjectMocks;
&nbsp;import org.mockito.Mock;
&nbsp;import org.mockito.junit.jupiter.MockitoExtension;
&nbsp;import java.util.Arrays;
&nbsp;import static org.junit.jupiter.api.Assertions.assertEquals;
&nbsp;import static org.mockito.Mockito.*;
&nbsp;
&nbsp;/**
&nbsp; * Unit tests for the {@link CategoryServiceImplementation} class.
&nbsp; * This class verifies the correct behavior of the CategoryServiceImplementation&#39;s methods,
&nbsp; * ensuring that they interact correctly with the CategoryServicePort and CategoryDtoMapper.
&nbsp; */
&nbsp;@ExtendWith(MockitoExtension.class)
<b class="nc">&nbsp;class CategoryServiceImplementationTest {</b>
&nbsp;
&nbsp;    @Mock
&nbsp;    private CategoryServicePort categoryServicePort;
&nbsp;
&nbsp;    @Mock
&nbsp;    private CategoryDtoMapper categoryDtoMapper;
&nbsp;
&nbsp;    @InjectMocks
&nbsp;    private CategoryServiceImplementation categoryService;
&nbsp;
&nbsp;    private SaveCategoryRequest saveCategoryRequest;
&nbsp;    private CategoryModel categoryModel;
&nbsp;    private CategoryResponse categoryResponse;
&nbsp;    private Pagination&lt;CategoryModel&gt; categoryPagination;
&nbsp;
&nbsp;    /**
&nbsp;     * Sets up the test environment before each test method.
&nbsp;     * Initializes mock objects and test data for use in tests.
&nbsp;     */
&nbsp;    @BeforeEach
&nbsp;    void setUp() {
<b class="nc">&nbsp;        saveCategoryRequest = new SaveCategoryRequest(&quot;Test Category&quot;, &quot;Test Description&quot;);</b>
<b class="nc">&nbsp;        categoryModel = new CategoryModel(1L, &quot;Test Category&quot;, &quot;Test Description&quot;);</b>
<b class="nc">&nbsp;        categoryResponse = new CategoryResponse(1L, &quot;Test Category&quot;, &quot;Test Description&quot;);</b>
<b class="nc">&nbsp;        categoryPagination = new Pagination&lt;&gt;(Arrays.asList(categoryModel), 1, 1, 0, 1);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Tests the save method to ensure it correctly saves a category and returns the expected response.
&nbsp;     */
&nbsp;    @Test
&nbsp;    void save_shouldSaveCategoryAndReturnResponse() {
<b class="nc">&nbsp;        when(categoryDtoMapper.requestToModel(saveCategoryRequest)).thenReturn(categoryModel);</b>
&nbsp;
<b class="nc">&nbsp;        SaveCategoryResponse response = categoryService.save(saveCategoryRequest);</b>
&nbsp;
<b class="nc">&nbsp;        verify(categoryServicePort).save(categoryModel);</b>
<b class="nc">&nbsp;        assertEquals(Constants.SAVE_CATEGORY_RESPONSE_MESSAGE, response.message());</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Tests the getCategories method to ensure it returns a correctly paginated CategoryResponse.
&nbsp;     */
&nbsp;    @Test
&nbsp;    void getCategories_shouldReturnPagedCategoryResponse() {
<b class="nc">&nbsp;        when(categoryServicePort.getCategories(0, 1, true)).thenReturn(categoryPagination);</b>
<b class="nc">&nbsp;        when(categoryDtoMapper.modelToResponse(categoryModel)).thenReturn(categoryResponse);</b>
&nbsp;
<b class="nc">&nbsp;        PagedCategoryResponse response = categoryService.getCategories(0, 1, true);</b>
&nbsp;
<b class="nc">&nbsp;        assertEquals(1, response.categories().size());</b>
<b class="nc">&nbsp;        assertEquals(1, response.totalElements());</b>
<b class="nc">&nbsp;        assertEquals(1, response.totalPages());</b>
<b class="nc">&nbsp;        assertEquals(0, response.pageNumber());</b>
<b class="nc">&nbsp;        assertEquals(1, response.pageSize());</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Tests the getCategoryByName method to ensure it returns the correct CategoryResponse for a given name.
&nbsp;     */
&nbsp;    @Test
&nbsp;    void getCategoryByName_shouldReturnCategoryResponse() {
<b class="nc">&nbsp;        when(categoryServicePort.getCategoryByName(&quot;Test Category&quot;)).thenReturn(categoryModel);</b>
<b class="nc">&nbsp;        when(categoryDtoMapper.modelToResponse(categoryModel)).thenReturn(categoryResponse);</b>
&nbsp;
<b class="nc">&nbsp;        CategoryResponse response = categoryService.getCategoryByName(&quot;Test Category&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        assertEquals(categoryResponse, response);</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-03-20 13:40</div>
</div>
</body>
</html>
